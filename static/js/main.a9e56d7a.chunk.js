(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{71:function(e,t,n){e.exports=n(81)},76:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),l=n.n(c),u=(n(76),function(){return r.a.createElement("header",null,r.a.createElement("h2",null,"Expense Tracker "))}),o=n(37),i=n(16),s=n(14),m=function(e,t){switch(t.type){case"FETCH_CURRENCY":return Object(s.a)(Object(s.a)({},e),{},{currencies:t.payload});case"SET_CURRENCY":return Object(s.a)(Object(s.a)({},e),{},{currentCurrency:t.payload});case"SET_RATE":return Object(s.a)(Object(s.a)({},e),{},{currentRate:t.payload});case"DELETE_TRANSACTION":return Object(s.a)(Object(s.a)({},e),{},{transactions:e.transactions.filter((function(e){return e.id!==t.payload}))});case"ADD_TRANSACTION":return Object(s.a)(Object(s.a)({},e),{},{transactions:[t.payload].concat(Object(o.a)(e.transactions))});case"ADD_GOAL":return Object(s.a)(Object(s.a)({},e),{},{goal:t.payload});default:return e}},E={transactions:JSON.parse(localStorage.getItem("transactions"))||[],goal:JSON.parse(localStorage.getItem("goal"))||0,currencies:[],baseCurrency:"PLN",baseRate:1,currentCurrency:"PLN",currentRate:1},f="https://api.exchangeratesapi.io/latest?base=".concat(E.baseCurrency),d=Object(a.createContext)(E),p=function(e){var t=e.children,n=Object(a.useReducer)(m,E),c=Object(i.a)(n,2),l=c[0],u=c[1];function s(e){u({type:"FETCH_CURRENCY",payload:e})}return Object(a.useEffect)((function(){fetch(f).then((function(e){return e.json()})).then((function(e){return s(Object(o.a)(Object.entries(e.rates)))}))}),[]),r.a.createElement(d.Provider,{value:{transactions:l.transactions,goal:l.goal,currencies:l.currencies,baseCurrency:l.baseCurrency,currentCurrency:l.currentCurrency,currentRate:l.currentRate,fetchCurrencyRates:s,setCurrency:function(e){u({type:"SET_CURRENCY",payload:e})},setRate:function(e){u({type:"SET_RATE",payload:e})},deleteTransaction:function(e){u({type:"DELETE_TRANSACTION",payload:e})},addTransaction:function(e){u({type:"ADD_TRANSACTION",payload:e})},addGoal:function(e){u({type:"ADD_GOAL",payload:e})}}},t)},g=function(){var e=Object(a.useContext)(d),t=e.transactions,n=e.currentCurrency,c=e.currentRate,l=t.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0).toFixed(2);return r.a.createElement("div",{className:"balance"},r.a.createElement("h4",null,"Your Balance:"),r.a.createElement("h1",null,(l*c).toFixed(2)," ",n))},b=function(){var e=Object(a.useContext)(d),t=e.transactions,n=e.currentCurrency,c=e.currentRate,l=t.map((function(e){return e.amount})),u=l.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2),o=(-1*l.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0)).toFixed(2);return r.a.createElement("div",{className:"inc-exp-container"},r.a.createElement("div",null,r.a.createElement("h4",null,"Income"),r.a.createElement("p",{className:"money plus"},"+",(u*c).toFixed(2)," ",n)),r.a.createElement("div",null,r.a.createElement("h4",null,"Expense"),r.a.createElement("p",{className:"money minus"},"-",(o*c).toFixed(2)," ",n)))};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var h=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M443.733,68.267H324.267V51.2c0-28.277-22.923-51.2-51.2-51.2H204.8c-28.277,0-51.2,22.923-51.2,51.2v17.067H34.133 c-9.426,0-17.067,7.641-17.067,17.067S24.708,102.4,34.133,102.4h18.551l32.649,359.953c0.805,8.814,8.216,15.55,17.067,15.514 h273.067c8.851,0.037,16.261-6.699,17.067-15.514L425.182,102.4h18.552c9.426,0,17.067-7.641,17.067-17.067 S453.159,68.267,443.733,68.267z M187.733,51.2c0-9.426,7.641-17.067,17.067-17.067h68.267c9.426,0,17.067,7.641,17.067,17.067 v17.067h-102.4V51.2z M359.885,443.733H117.982L87.04,102.4h83.627h220.245L359.885,443.733z"}))),O=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M187.738,391.392c-0.002-0.023-0.003-0.047-0.005-0.07l-17.067-238.933c-0.669-9.426-8.853-16.524-18.278-15.855 c-9.426,0.669-16.524,8.853-15.855,18.278L153.6,393.745c0.637,8.949,8.095,15.878,17.067,15.855h1.229 C181.299,408.947,188.392,400.795,187.738,391.392z"}))),C=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M238.933,136.533c-9.426,0-17.067,7.641-17.067,17.067v238.933c0,9.426,7.641,17.067,17.067,17.067 S256,401.959,256,392.533V153.6C256,144.174,248.359,136.533,238.933,136.533z"}))),j=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M325.478,136.533c-9.426-0.669-17.609,6.429-18.278,15.855l-17.067,238.933c-0.691,9.4,6.369,17.581,15.769,18.272 c0.029,0.002,0.057,0.004,0.086,0.006h1.212c8.972,0.023,16.43-6.906,17.067-15.855l17.067-238.933 C342.003,145.386,334.904,137.203,325.478,136.533z"}))),x=r.a.createElement("g",null),N=r.a.createElement("g",null),S=r.a.createElement("g",null),R=r.a.createElement("g",null),T=r.a.createElement("g",null),w=r.a.createElement("g",null),A=r.a.createElement("g",null),F=r.a.createElement("g",null),D=r.a.createElement("g",null),k=r.a.createElement("g",null),_=r.a.createElement("g",null),I=r.a.createElement("g",null),L=r.a.createElement("g",null),M=r.a.createElement("g",null),z=r.a.createElement("g",null),P=function(e){var t=e.svgRef,n=e.title,a=y(e,["svgRef","title"]);return r.a.createElement("svg",v({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 477.867 477.867",style:{enableBackground:"new 0 0 477.867 477.867"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,h,O,C,j,x,N,S,R,T,w,A,F,D,k,_,I,L,M,z)},H=r.a.forwardRef((function(e,t){return r.a.createElement(P,v({svgRef:t},e))})),G=(n.p,function(e){var t=e.transaction,n=Object(a.useContext)(d),c=n.deleteTransaction,l=n.currentCurrency,u=n.currentRate;return r.a.createElement("li",{className:t.amount>0?"plus":"minus"},t.text,r.a.createElement("span",null,new Date(t.date).toLocaleDateString("pl-PL")),r.a.createElement("span",null,(t.amount*u).toFixed(2)," ",l),r.a.createElement("button",{onClick:function(){return c(t.id)},className:"delete-btn"},r.a.createElement(H,{className:"delete-icon"})))}),J=function(){var e=Object(a.useContext)(d).transactions;return r.a.createElement("div",{className:"history"},r.a.createElement("h3",null,"Transaction History"),r.a.createElement("ul",{id:"list",className:"list"},e.map((function(e){return r.a.createElement(G,{key:e.id,transaction:e})}))))},Y=n(36),B=n(11),U=n(107),V=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(0),u=Object(i.a)(l,2),o=u[0],s=u[1],m=Object(a.useState)(new Date),E=Object(i.a)(m,2),f=E[0],p=E[1],g=Object(a.useContext)(d),b=g.addTransaction,v=g.transactions;return Object(a.useEffect)((function(){window.localStorage.setItem("transactions",JSON.stringify(v))}),[v]),r.a.createElement(B.a,{utils:Y.a},r.a.createElement("div",{className:"new-transaction"},r.a.createElement("h3",null,"Add new transaction"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t={id:Math.floor(1e8*Math.random()),text:n,amount:+o,date:f};b(t)}},r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"text"},"Text"),r.a.createElement("input",{type:"text",value:n,onChange:function(e){return c(e.target.value)},placeholder:"Enter text..."})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"amount"},"Amount"),r.a.createElement("input",{type:"number",value:o,onChange:function(e){return s(e.target.value)},placeholder:"Enter amount..."})),r.a.createElement("div",{className:"form-control"},r.a.createElement(U.a,{margin:"normal",id:"date-picker-dialog",label:"Tansaction date",format:"dd/MM/yyyy",value:f,onChange:function(e){p(e)},KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement("button",{className:"btn-new"},"Add transaction"))))},K=n(106),q=n(105),Q=n(109),W=function(e){return r.a.createElement(Q.a,{position:"relative",display:"inline-flex"},r.a.createElement(K.a,Object.assign({variant:"static",thickness:5},e)),r.a.createElement(Q.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(q.a,{variant:"h6",component:"div",color:"textSecondary",value:e.value},Math.round(e.value),"%")))},X=n(47);function Z(){var e=Object(X.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 35vw;\n\theight: 15vh;\n\tposition: absolute;\n\ttop: 10%;\n\tleft: ","%;\n\tbackground-color: #2ecc71;\n\tcolor: #fff;\n\tpadding: 20px;\n\ttext-align: center;\n\tfont-size: 25px;\n\topacity: 0.9;\n\ttransition: left 0.3s ease;\n"]);return Z=function(){return e},e}var $=n(48).a.div(Z(),(function(e){return e.show})),ee=function(e){var t=Object(a.useState)(-100),n=Object(i.a)(t,2),c=n[0],l=n[1],u=e.percentage;return Object(a.useEffect)((function(){l(u>=100?0:-100),setTimeout((function(){l(-100)}),3e3)}),[u]),u>=100?r.a.createElement($,{show:c},"Congrats! The goal is funded!"):null},te=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(0),u=Object(i.a)(l,2),o=u[0],s=u[1],m=Object(a.useContext)(d),E=m.transactions,f=m.currentCurrency,p=m.currentRate,g=m.addGoal,b=m.goal;Object(a.useEffect)((function(){window.localStorage.setItem("goal",JSON.stringify(b))}),[b]);var v=E.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0),y=parseFloat((v/b.amount*100).toFixed(2)),h=parseFloat((b.amount*p).toFixed(2));return r.a.createElement("div",{className:"goal"},r.a.createElement("h3",null,"Your Goal"),r.a.createElement("form",{className:"goal-form",onSubmit:function(e){e.preventDefault(),g({text:n,amount:+o})}},r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"text"},"Text"),r.a.createElement("input",{type:"text",value:n,onChange:function(e){return c(e.target.value)},placeholder:"Goal name..."})),r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"amount"},"Amount"),r.a.createElement("input",{type:"number",value:o,onChange:function(e){return s(e.target.value)},placeholder:"Enter amount..."})),r.a.createElement("button",{className:"btn-goal"},"Add")),r.a.createElement("div",{className:"goal-progress"},r.a.createElement("div",{className:"goal-info"},r.a.createElement("div",null,"Current goal: ",r.a.createElement("span",null,b.text)),r.a.createElement("div",null,"Amount to collect: ",r.a.createElement("span",null,h>0?h:0," ",f))),r.a.createElement(W,{value:y>0?y:0,size:80,amount:o})),r.a.createElement(ee,{percentage:y,amount:o}))},ne=function(){var e=Object(a.useContext)(d),t=e.currencies,n=e.currentCurrency,c=e.setCurrency,l=e.setRate;return r.a.createElement("div",{className:"currency"},"Current curency:",r.a.createElement("select",{value:n,onChange:function(e){return function(e){var n=e.target.value,a=t.filter((function(e){return e[0]===n}));c(n),l(a[0][1])}(e)}},t.map((function(e){return r.a.createElement("option",{key:e[1],value:e[0]},e[0])}))))};var ae=function(){return r.a.createElement(p,null,r.a.createElement(u,null),r.a.createElement("main",{className:"container"},r.a.createElement("div",{className:"account"},r.a.createElement(g,null),r.a.createElement(b,null)),r.a.createElement(J,null),r.a.createElement(V,null),r.a.createElement(te,null),r.a.createElement(ne,null)))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B.a,{utils:Y.a},r.a.createElement(ae,null))),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.a9e56d7a.chunk.js.map